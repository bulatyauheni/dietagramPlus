package bulat.diet.helper_sport.activity;

import java.util.ArrayList;

import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.Spinner;
import android.widget.TextView;
import android.widget.Toast;
import bulat.diet.helper_sport.R;
import bulat.diet.helper_sport.item.DishType;
import bulat.diet.helper_sport.utils.DialogUtils;
import bulat.diet.helper_sport.utils.SaveUtils;
import bulat.diet.helper_sport.utils.SocialUpdater;

public class VolumeInfo extends Activity {
	
	public static final int MIN_CHEST = 40;
	public static final int MIN_PELVIS = 30;
	public static final int MIN_NECK = 15;
	public static final int MIN_BICEPS = 10;
	public static final int MIN_FOREARM = 10;
	public static final int MIN_WAIST = 30;
	public static final int MIN_HIP = 10;
	public static final int MIN_SHIN = 8;
	
	private Spinner chestSpinner;
	private Spinner chestDecSpinner;
	
	private Spinner pelvisSpinner;
	private Spinner pelvisDecSpinner;
	
	private Spinner neckSpinner;
	private Spinner neckDecSpinner;
	
	private Spinner bicepsSpinner;
	private Spinner bicepsDecSpinner;
	
	private Spinner forearmSpinner;
	private Spinner forearmDecSpinner;
	
	private Spinner waistSpinner;
	private Spinner waistDecSpinner;
	
	private Spinner hipSpinner;
	private Spinner hipDecSpinner;
	
	private Spinner shinSpinner;
	private Spinner shinDecSpinner;
	
	private Spinner expirienceSpinner;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		final View viewToLoad = LayoutInflater.from(this.getParent()).inflate(
				R.layout.extrasettings, null);
		setContentView(viewToLoad);					
		
		chestSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerChest);
		chestDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerChestDecimal);
		
		pelvisSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerPelvis);
		pelvisDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerPelvisDecimal);
		
		neckSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerNeck);
		neckDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerNeckDecimal);
		
		bicepsSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerBiceps);
		bicepsDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerBicepsDecimal);
		
		forearmSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerForearm);
		forearmDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerForearmDecimal);
		
		waistSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerWaist);
		waistDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerWaistDecimal);
		
		hipSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerHip);
		hipDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerHipDecimal);
		
		shinSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerShin);
		shinDecSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerShinDecimal);
		
		expirienceSpinner = (Spinner) viewToLoad.findViewById(R.id.SpinnerExpirienceActivity);
			
		
		ArrayList<DishType> mode = new ArrayList<DishType>();
		mode.add(new DishType(20, getString(R.string.exp1)));
		mode.add(new DishType(24, getString(R.string.exp2)));
		mode.add(new DishType(27, getString(R.string.exp3)));
		mode.add(new DishType(30, getString(R.string.exp4)));
		ArrayAdapter<DishType> adapter = new ArrayAdapter<DishType>(this,
				android.R.layout.simple_spinner_item, mode);
		//adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		expirienceSpinner.setAdapter(adapter);		
		expirienceSpinner.setSelection(SaveUtils.getExpModeSelection(this));	
		expirienceSpinner.setOnItemSelectedListener(spinnerModeListener);
	////
			
			
		setSpinnerValues();

	}
	@Override
	protected void onDestroy() {
		// TODO Auto-generated method stub
		super.onDestroy();
	}

	@Override
	protected void onPause() {
		// TODO Auto-generated method stub
		super.onPause();
	}
	
	private void setSpinnerValues() {
		try{
			
			DialogUtils.setArraySpinnerValues(chestSpinner,30,180,this);							
			chestSpinner.setSelection(SaveUtils.getChest(this));
			chestSpinner.setOnItemSelectedListener(spinnerListener);			
			DialogUtils.setArraySpinnerValues(chestDecSpinner,0,9,this);						
			chestDecSpinner.setSelection(SaveUtils.getChestDec(this));	
			chestDecSpinner.setOnItemSelectedListener(spinnerListener);
			
			DialogUtils.setArraySpinnerValues(pelvisSpinner,30,200,this);							
			pelvisSpinner.setSelection(SaveUtils.getPelvis(this));	
			pelvisSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(pelvisDecSpinner,0,9,this);						
			pelvisDecSpinner.setSelection(SaveUtils.getPelvisDec(this));
			pelvisDecSpinner.setOnItemSelectedListener(spinnerListener);
						
			DialogUtils.setArraySpinnerValues(neckSpinner,10,70,this);							
			neckSpinner.setSelection(SaveUtils.getNeck(this));	
			neckSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(neckDecSpinner,0,9,this);						
			neckDecSpinner.setSelection(SaveUtils.getNeckDec(this));
			neckDecSpinner.setOnItemSelectedListener(spinnerListener);
			
			DialogUtils.setArraySpinnerValues(bicepsSpinner,8,78,this);							
			bicepsSpinner.setSelection(SaveUtils.getBiceps(this));	
			bicepsSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(bicepsDecSpinner,0,9,this);						
			bicepsDecSpinner.setSelection(SaveUtils.getBicepsDec(this));
			bicepsDecSpinner.setOnItemSelectedListener(spinnerListener);
			
			DialogUtils.setArraySpinnerValues(forearmSpinner,10,60,this);							
			forearmSpinner.setSelection(SaveUtils.getForearm(this));	
			forearmSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(forearmDecSpinner,0,9,this);						
			forearmDecSpinner.setSelection(SaveUtils.getForearmDec(this));
			forearmDecSpinner.setOnItemSelectedListener(spinnerListener);
			
			DialogUtils.setArraySpinnerValues(waistSpinner,30,300,this);							
			waistSpinner.setSelection(SaveUtils.getWaist(this));	
			waistSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(waistDecSpinner,0,9,this);						
			waistDecSpinner.setSelection(SaveUtils.getWaistDec(this));
			waistDecSpinner.setOnItemSelectedListener(spinnerListener);

			DialogUtils.setArraySpinnerValues(hipSpinner,10,100,this);							
			hipSpinner.setSelection(SaveUtils.getHip(this));	
			hipSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(hipDecSpinner,0,9,this);						
			hipDecSpinner.setSelection(SaveUtils.getHipDec(this));
			hipDecSpinner.setOnItemSelectedListener(spinnerListener);

			DialogUtils.setArraySpinnerValues(shinSpinner,8,70,this);							
			shinSpinner.setSelection(SaveUtils.getShin(this));	
			shinSpinner.setOnItemSelectedListener(spinnerListener);		
			DialogUtils.setArraySpinnerValues(shinDecSpinner,0,9,this);						
			shinDecSpinner.setSelection(SaveUtils.getShinDec(this));
			shinDecSpinner.setOnItemSelectedListener(spinnerListener);
												
		}catch (Exception e) {
			e.printStackTrace();
			SaveUtils.saveAge(0, VolumeInfo.this);
			SaveUtils.saveActivity(0, VolumeInfo.this);
			SaveUtils.saveHeight(0, VolumeInfo.this);
			SaveUtils.saveSex(0, VolumeInfo.this);
			SaveUtils.saveWeight(0, VolumeInfo.this);
		}
			
		}	
	@Override
	protected void onResume() {
		// TODO Auto-generated method stub
		super.onResume();
		
	}

	private OnItemSelectedListener spinnerModeListener = new OnItemSelectedListener() {

		public void onItemSelected(AdapterView<?> arg0, View arg1, int arg2,
				long arg3) {
			SaveUtils.saveExpModeSelection(arg2, VolumeInfo.this);
			SaveUtils.saveExpModeValue(arg2, VolumeInfo.this);
			//DialogUtils.showDialog(Info.this.getParent(), getString(R.string.save_prove));
		}

		public void onNothingSelected(AdapterView<?> arg0) {
			// TODO Auto-generated method stub
		}
	};
	
	private OnItemSelectedListener spinnerListener = new OnItemSelectedListener(){

		

		public void onItemSelected(AdapterView<?> arg0, View arg1, int arg2,
				long arg3) {

			saveAll();		
			

			
		}

		public void onNothingSelected(AdapterView<?> arg0) {
			// TODO Auto-generated method stub
			
		}		
	};


	public void saveAll() {				
		
		try{
						
			SaveUtils.saveChest((int)chestSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveChestDec((int)chestDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.savePelvis((int)pelvisSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.savePelvisDec((int)pelvisDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveNeck((int)neckSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveNeckDec((int)neckDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveBiceps((int)bicepsSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveBicepsDec((int)bicepsDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveForearm((int)forearmSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveForearmDec((int)forearmDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveWaist((int)waistSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveWaistDec((int)waistDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveHip((int)hipSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveHipDec((int)hipDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.saveShin((int)shinSpinner.getSelectedItemId(),VolumeInfo.this);
			SaveUtils.saveShinDec((int)shinDecSpinner.getSelectedItemId(),VolumeInfo.this);
			
			SaveUtils.setActivated(VolumeInfo.this, true);
		
		}catch (Exception e) {
			e.printStackTrace();
		}
}

}
